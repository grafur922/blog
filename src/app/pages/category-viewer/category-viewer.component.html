<app-header></app-header>
<div class="categoryViewerMain container">
    <mat-accordion>
        @for (item of categoryData$ | async; track $index) {
        <mat-expansion-panel
            class="my-3"
            [expanded]="item.categoryName"
            (opened)="expandedCategoryName = item.categoryName"
            (closed)="handlePanelClosed(item.categoryName)"
            
            >
            
            <mat-expansion-panel-header>
                <mat-panel-title [class.highlight]="item.categoryName===expandedCategoryName">
                    {{item.categoryName}}
                </mat-panel-title>
                <mat-panel-description>
                    </mat-panel-description>
            </mat-expansion-panel-header>

            @for (aItem of articleData$ | async; track $index) {
                @if (aItem.categoryId==item.categoryId) {
                    <p class="f-list-li" (click)="navService.view(aItem.articleId===undefined?'0':aItem.articleId)">{{aItem.title}}</p>
                }
            }
        </mat-expansion-panel>
        }
    </mat-accordion>
</div>